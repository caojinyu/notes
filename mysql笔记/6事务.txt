事务：
一组sql语句的操作单元，组内所有的sql语句完成一个业务，
如果整组成功意味着全部sql都实现。
如果其中任何一个失败，意味着整个操作都失败，意味着整个过程是
没有意义的，应该使数据库回到初始状态。

思路：
就是在一组操作之前，设计一个记号，备份点。
利用innodb存储引擎的事务日志功能。

sql的执行分成了2个阶段：
1、执行阶段
2、将执行结果提交到数据库的阶段。
其中我们的事务日志就是保存的执行阶段的结果。
如果用户选择提交，则才将执行结果同步到数据库。
默认的执行方式叫做自动提交。
存在一个系统的变量叫做：autocommit;可以自动提交配置。


begin（start transaction）；建议使用start transaction；完成事务。

commit；

rollback；


select * from .. for update;这个是基于事务和连接的。

两个事务中,都有对同一个表的update的话,其中的一个会等待.是一个同步的互斥操作.

1、原子性。
2、一致性。
3、隔离性。
4、持久性。

innodb支持行级别的锁。









